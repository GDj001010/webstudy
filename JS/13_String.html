<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>

        var str = 'JavaScript';

        // 1. 문자열 길이
        console.log(str.length);

        // 2. 특정 문자
        console.log(str.charAt(0));
        console.log(str.charAt(str.length - 1));

        // 3. 특정 문자열
        console.log(str.substring(0, 4));   // 인덱스 0부터 3까지   ( 0 이상 4 미만 )
        console.log(str.substring(4));      // 인덱스 4부터 끝까지  ( 4 ~ )
        console.log(str.substr(0, 4));      // 인덱스 0부터 4글자   ( 0 ~ 3)       
        console.log(str.substr(4));         // 인덱스 4부터 끝까지  ( 4 ~)

        // 4. 특정 문자(열)의 인덱스
        console.log(str.indexOf('J'))       // J의 인덱스 반환
        console.log(str.indexOf('j'));      // j의 인덱스 반환, 없으면 -1 반환
        console.log(str.indexOf('a'))       // 첫번 째 a의 인덱스 반환
        console.log(str.lastIndexOf('a'));  // 뒤에서부터(마지막) a 인덱스 반환

        // 5. 특정(시작/종료) 패턴 검사     문자, 문자열 모두 가능.
        console.log(str.startsWith('J'));   // J로 시작하면 true 반환
        console.log(str.endsWith('Script')) // Script로 끝나면 true 반환
        
        // 6. 대소문자 변환
        console.log(str.toUpperCase());     // 대문자로 변환
        console.log(str.toLowerCase());     // 소문자로 변환

        // 7. 좌우 공백 제거
        var str = '                  Java     Script                      ';
        console.log(str.trimEnd(), str.trimRight());    // 오른쪽 공백 날리기, End와 Right는 같다.
        console.log(str.trimStart(), str.trimLeft());   // 왼쪽 공백 날리기, Start와 Left는 같다.
        console.log(str.trim());                        // 양쪽 공백 모두 날리기

        // 8. 하나만 치환 (찾아 바꾸기)     실질적인 요소를 바꿔주는 것이 아니라 바뀐 모습을 보여준다.
        var str = 'JavaJavaJavaJavaJava';
        console.log(str.replace('Java', '자바'));       // 처음 Java 하나만 바꾼다. (Java에선 전부 다 바꿔준다.)
        
        // 9. 문자열 분리 -> 배열 생성  (문자열을 분리해서 배열을 만들어 준다.)
        var str = 'Java, Oracle, HTML,CSS,JavaScript';
        var arr = str.split(',');                       // ','로 분리한다, 배열이 됨.
        console.log(arr); 

        // 10. 배열의 요소 -> 하나의 문자열로 연결      // 9번의 반대 작업.
        var str2 = arr.join(',');                       // ','를 이용해서 모두 문자열로 이어준다.
        console.log(str2);
    </script>

    <script>
        // String 객체가 공유할 수 있도록 prototype에 replaceAll 속성을 등록한다.
        // replaceAll 속성의 값으로 함수를 등록하면 replaceAll 속성은 메소드가 된다.
        // String 클래스에 replaceAll 메소드 추가
        String.prototype.replaceAll = function(before, after){
            // this     : 'JavaJavaJavaJavaJava'
            // before   : 'Java'
            // after    : '자바'
            var str = this;
            while(str.indexOf(before) != -1){
                str = str.replace(before, after);
            }
            return str;
        }
        var str = 'JavaJavaJavaJavaJava';
        console.log(str.replaceAll('Java', '자바'));
        
        // 팁. split과 join으로 replaceAll 처리하기
        // 예시) 2023-03-07 값을 2023/03/07로 바꾸기 (-을 /로 바꾸기)
        var str = '2023-03-07';
        var arr = str.split('-');   // '2023', '03', '07'  '-'을 기준으로 분리한다.
        str = arr.join('/');        // '2023/03/07'        '/'로 문자열로 연결
        console.log(str);
        
        String.prototype.replaceAll = function(before, after){
            return this.split(before).join(after);
        }
        var str = '2023-03-07';
        console.log(str.replaceAll('-', '/'));

    </script>

</body>
</html>